# MCU 封装选型（了解芯片封装类型）

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737631447210-30e52c7a-d6db-426b-aeca-4ae76dbc2de1.png)

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737631503141-e4c04ac7-fb9f-4f68-bbc5-516ca9c05d1e.png)

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737631463358-4b0ead85-9063-4e67-ab06-c7a892412210.png)

51 单片机一般是下面的两种封装：QFP 和 DIP

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737631991457-fd0eb22a-d1f0-4487-bef7-a19ffc7a03d9.png)

本教程使用的 QFP 封装的。

# MCU 的型号和参考手册

使用的 STC89C52，STC 公司产的。

[http://www.stcmicro.com.cn/ckwj.html?i=1](http://www.stcmicro.com.cn/ckwj.html?i=1)

# 电源电路部分

## TYPE-C

### 选型

选择 **typec 6pin** 的，只支持充电。

这里选择的是 **TYPE-C-6P-DIPX2**

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737638565597-f498701d-2e7b-44f1-9b8a-4820e5fc3e3f.png)

### 设计

**CC1 和 CC2** 用于 DP 接口的，这里用于给 51 单片机供电，所以这两个接口不需要，按照规定（没查来历），要接上 **5.1k** 的电阻然后接地（教程用的 **0805** 的电阻）。主要不要将 CC2 和 CC1 短接。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737639027591-c58435d5-c9fe-4e9d-abf7-e182b01da9cd.png)

然后只需要关心我们的 usb 输入电压为 5V 即可，标注。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737639176403-1f86dd3b-f6b8-4253-ab63-98f845bda409.png)

## 开关

选择的是 SS-3235S

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737639534996-e0a658c2-d83b-4673-a2bb-52038e75f872.png)

有 6 个引脚，这里只使用 3 个引脚即可，其他可以接地。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737639705095-a1dd861c-034b-4a82-986b-6d6f66272f9e.png)

VCC+5V 是输入的，+5V 是输出的，我感觉本质上是一样的，就是给个标签。

## 稳压芯片

教程说的是 LDO（低压差线性稳压器）。

教程给的是 3.3V，所以我们需要一个 5V 转 3.3V 的 LDO。

教程选型为 **AMS1117-3.3**

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737640171471-2a78c020-6931-472a-b8ca-bb579a61b035.png)

VIN 接 5V，VOUT 接上 3.3V，一个输入 5V，一个输出 3.3V。VOUT 之间相互连接起来。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737640285606-4b8e0332-9e1a-4308-ad61-8bfa0c05fb44.png)

## LED 电源灯

选择的 LED 是 0805 贴片的。给个电阻 1K 的（0805），因为 LED 的电压为 0.6-0.7V，所以加上电阻，保护 LED。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737640517349-3fb1ae1c-5680-4657-bc01-5fb6c91ba756.png)

## 滤波处理

输入 5V，和输出 3.3V 需要做滤波处理。

可以查看我们使用的 LDO（AMS1117-3.3V）的参考手册，参考手册给的是输入给 10uF 的滤波电容，而输出至少用一个 22uF 的钽电容。

不过嘉立创数据手册下面有这个图片，可以参考，用来对应视频教程里的。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737641070304-e70d2d13-7a9b-4142-9f3b-4a2fb30484de.png)

这里 5V 和 3.3V 处各有一个 10uF 的陶瓷电容，但是教程还给个 10uF 的电容并联上一个 0.1uF（100nF）的陶瓷电容，效果更好。

详细可参考这篇[https://blog.csdn.net/qq_38636482/article/details/125280489](https://blog.csdn.net/qq_38636482/article/details/125280489)

下面是设计

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737641884536-bbe53c3b-9bed-47e3-ad85-92f8622b2115.png)

# STC89C52

## 工作电压+接地

这里采用 5V 作为工作电压，然后接一个去耦电容（100nF）。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737642341523-63fd7991-c7f9-4ab5-bdd3-a7824ea78dc3.png)

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737643350721-d0b63574-30dd-4859-9379-8d2445a33666.png)![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737643368263-95ec2482-8471-4f5f-aebc-26361f5c0a0e.png)

## 添加网络标签

下面就用网络标签一个一个将所有引脚全部引出，或者选中芯片，右键选择扇出。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737643422963-0c4c7911-b15c-4b3b-8285-d5b4417338e7.png)

## 晶振电路

教程使用 12MHZ 的晶振元件。教程选择了**ABLS-12.000MHZ-B4H-T**

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737644277519-dee6e96e-0e95-42a7-8d8d-e3b551776b4c.png)

在看看 51 的数据手册，

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737644341152-d8f8639c-c85f-4330-b5f2-25522ca9f26d.png)

开始设计电路

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737644669419-28f08a74-ada4-4535-8cf1-2bde7611de71.png)

## 复位电路

51 参考手册

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737644692757-f366e2c1-8230-47a7-9ce9-f8f89bfb1d3a.png)

该种是上电时复位一次，估计需要程序进行上电操作。

我们可以使用手动的方式，加一个按钮，按下时电源与 RST 直接相连。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737645197352-a5a4a9e9-4d22-4475-9b95-600b6165c026.png)

## 排针

选择 HDR-M 2.54 的排针类型，我们需要引出 P0-P4 的引脚，采用 P0 和 P2 在一起，P1 和 P3 在一起，P4 单独一起，所以需要 2 个 1 列 16 个引脚的，和 1 个 1 列 7 个的引脚。

设计结果

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737646246293-7d0b0d3d-e2da-49db-ae41-b0c9275cd6a0.png)

# 外设

## 按键

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737680899616-ab92acc9-d2fc-41c2-9b0e-f5115bac40d8.png)

还可以通过加入电容来消除抖动

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737681222476-22b0bf09-4557-4705-859b-c471630815bc.png)

## LED

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737681375576-dc8a9619-782d-4727-92e3-66e880119bdb.png)

## P0 接上拉电阻+电源

P0 接口为开漏输出接口，需要外接上拉电源和电阻。

在 STC89C52 参考手册可以看到：

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737683290693-7a84f042-980b-4151-a994-8aca6993fb43.png)

所以我们外接上拉 10K 的电阻，和 5V 的电源。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737683477723-03e751a4-69ff-4651-8579-9980fb6cfdd0.png)

更多了解 GPIO 的输出模式，可以参考：

[https://www.cnblogs.com/Lauriee/p/17736890.html](https://www.cnblogs.com/Lauriee/p/17736890.html)

[https://www.cnblogs.com/xiaoxie2014/p/4206934.html](https://www.cnblogs.com/xiaoxie2014/p/4206934.html)

## 外接传感器电源和接地引脚

一般需要 5V/3.3V/GND 这两个引脚。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737683864199-80f5eef0-00fe-4e44-a6af-adffd4da021e.png)

## 串口引脚（TTL 引脚）

一般一个 TTL 转 USB 接口上有 RXD、TXD、5V、GND，更有多的是多了一个 3.3V 的。

一般用来调试程序或者下载程序使用。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737684320957-83fc517a-b470-4682-9a09-addbfe9da764.png)

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737684464666-5446b3da-fd66-4ec4-9230-9a66aa3c0156.png)

# 原理图

加入矩形框起来，加上文字。然后加上公司，名称。

![](https://cdn.nlark.com/yuque/0/2025/svg/43149985/1737686181700-11c80180-2e82-4cf0-92ba-d604cbaa8441.svg)

# 原理图 DRC 检测

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737686663602-1ffdaf55-ce5b-4973-a75b-40327b6506b6.png)

# PCB 布局

## 开始

点击 原理图转 PCB，然后点击应用修改

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737693533011-646c2c52-dd28-4825-9e6b-963d13964c9c.png)

点击 3D 预览，上面就是元器件。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737693619684-7938ba7d-dca2-441a-996d-8c910451588f.png)

我们需要一些合理的布局，摆放在 PCB

## 快捷键

1. 交叉引用:Shift+X

用于元器件的原理图到 PCB 的快速定位,也可以从 PCB 到原理图的快速定位

2. 布局传递:Ctrl+Shift+X

将原理图的选中的元器件的布局同步到 PCB 当中

## 绘制板框

板框大小：70mm x 40mm

过孔：外径 4mm，内径 3mm

圆角半径：3mm

过孔定位：（2.6，-2.6）

（注意单位，可以用快捷键 Q 快速切换）

**步骤**

1. 选择板框层，然后用矩形（板框->矩形）绘制板框。
2. 然后绘制圆角。
3. 添加上过孔。
4. 对板框进行锁定。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737694918876-79414771-7503-4c28-bf90-83fbb3a5acd3.png)

## 顶层设计

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737714106689-72b46328-6cf0-4b31-8418-bea9c6718450.png)

# PCB 布线

## 快捷键

1. 单路布线：alt+w
2. 过孔：alt+v
3. 切换线宽：TAB
4. mil/mm 单位互换：Q
5. 切换到底层：Alt+B
6. 切换到顶层：Alt+T

## 屏蔽罩

屏蔽罩的过孔类型为 GND，内径 12mil，外径 24mil。

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737729922109-9e817d82-a791-466d-82b5-a6774b177e40.png)

## 禁止区域

放置->禁止区域->多边形

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737730444452-a34be10e-cecd-40bb-aed4-d13f779a7d0c.png)![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737730464684-13c8ef29-517c-401c-9ce8-251213a34423.png)

## 铺铜

选择工具栏中的铺铜->矩形，然后顶层铺一层，底层也铺一层。如果有些没有覆盖到的，添加 GND 过孔即可。

## 最后

![](https://cdn.nlark.com/yuque/0/2025/png/43149985/1737855752464-7a5d574a-d045-41a3-bf2e-cdaf8011c69a.png)