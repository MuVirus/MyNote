# 工程
## 一、创建工程
创建工程命令为
```
dart create new_project
```
> [!注意]
> Dart 的包名/项目名只能使用 **小写字母、数字和下划线**，并且必须以字母开头，不能出现大写字母或连字符、空格等特殊字符。

# 语法核心
## 一、变量
### 1、late

late 修饰符有两种用法：
- 声明一个非空变量，但不在声明时初始化。
- 延迟初始化一个变量。

> [!notice]
> 如果一开始没有初始化late变量，那么使用前必须赋值

在声明时就初始化了`late`变量，那么就起到了延迟初始化`late`变量的作用了。只会在使用到`late`变量，才会初始化变量。

### 2、final / const

一个 final 变量只能设置一次，const 变量是编译时常量。（const 常量隐式包含了 final，也就是说 const 自带 final 的消息）
> [!注意]
> 实例变量 可以是 final 但不能是 const。

### 3、空安全

1. 不可空（**Non-nullable**）
```dart
int a = 5;
a = null;          // ❌ 编译期就报错
```

2. 可空（**Nullable**）
```dart
int? b = 5;
b = null;          // ✅ 允许
```

3. 空感知运算符
- `?.` 链式调用，空时短路返回 `null`
- `??` 空时给默认值
- `??=` 空时才赋值
- `!` **非空断言**：你向编译器保证“绝对非空”，运行时空了就抛异常

``` dart
int? x;
print(x?.toRadixString(16));  // null
print(x ?? 42);               // 42
x ??= 100;                    // 此时 x = 100
print(x!.toRadixString(16));  // 64，若 x 为 null 直接抛运行时异常
```

4. 延迟初始化关键字
- `late`：告诉编译器“我现在不赋值，但使用前一定非空”，运行时空了会抛 `LateInitializationError`。
- `late final`：只能赋值一次，常用于依赖注入或懒加载。

```dart
late String name;             // 先声明，稍后赋值
name = 'Tom';                 // 使用前必须赋过值
```

5. 列表/Map 的可空性

```dart
List<int> nums = [];        // 列表本身及其元素都不可空
List<int?> numsWithNull = [1, null];  // 元素可空
List<int>? nullableList;    // 列表本身可空，元素不可空
List<int?>? bothNullable;   // 列表和元素都可空
```

- `[]` 为空列表，内部完全没有元素。
- `<int>`表示元素是不可空的
- `<int?>`表示元素可空
- `List<xx>?`表示列表不可空的
- `List<xx>?`表示列表可空

6. required

required一般用在调用函数或者创建对象时必须传的参数。

- `required` 只用于**命名参数**。
- 如果参数类型是**不可空**的，又**没有默认值**，就必须 `required`。
- 如果参数类型是**可空**的（带 `?`），那就可以省掉 `required`，传不传都行。

## 二、内置类型

### 1、变量声明

分为`显示类型`、`dynamic`、`var`。

| 声明方式                           | 是否显式给出类型         | 编译期类型         | 运行期类型      | 初始化后能否再赋其它类型 | 典型场景                                       |
| ------------------------------ | ---------------- | ------------- | ---------- | ------------ | ------------------------------------------ |
| 显式类型<br>`int x = 10;`          | ✅ 明确写出           | 固定为 `int`     | 只能是 `int`  | ❌            | 绝大多数业务变量；可读性最好，IDE 提示最完整。                  |
| `var`<br>`var x = 10;`         | ❌（由初始值推断）        | 编译器推断为 `int`  | 只能是 `int`  | ❌            | 当右侧表达式已能唯一确定类型时，可少敲几个字。                    |
| `dynamic`<br>`dynamic x = 10;` | ✅ 明确写出 `dynamic` | 被视为 `dynamic` | 任意类型，运行时可变 | ✅            | 与 JavaScript 交互、反射、JSON 解析等极少数需要“彻底动态”的地方。 |
补充要点

1. `var` **不是**动态类型，只是“语法糖”。一旦初始化，其静态类型就固定下来，之后不能赋其它类型：
``` dart
var x = 1;
x = 'hello'; // 编译错误：A value of type 'String' can't be assigned to a variable of type 'int'.
```
2. `dynamic` 会**关闭**静态检查，写错成员名要等到运行时才抛 `NoSuchMethodError`：
``` dart

```
3. 推荐顺序  
能写显式类型就写显式 → 若嫌啰嗦且右侧已能推断，可用 `var` → 只有真正需要动态化时才用 `dynamic`。
``` dart

```
## 三、控制流

## 四、函数
